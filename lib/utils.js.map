{"version":3,"sources":["../src/utils.js"],"names":[],"mappings":";;;;;kBAAe;AACb,WAAS,iBAAS,GAAT,EAAc;AACrB,WAAO,IAAI,MAAJ,CAAW,UAAC,CAAD,EAAI,CAAJ;AAAA,aAAU,EAAE,MAAF,CAAS,CAAT,CAAV;AAAA,KAAX,CAAP;AACD,GAHY;;AAKb,WAAS,iBAAS,GAAT,EAAc,MAAd,EAAsB;AAC7B,WAAO,MAAM,SAAN,CAAgB,MAAhB,CAAuB,KAAvB,CAA6B,EAA7B,EAAiC,IAAI,GAAJ,CAAQ,MAAR,CAAjC,CAAP;AACD,GAPY;;AASb,oBAAkB,0BAAS,IAAT,EAAe,IAAf,EAAqB;AACrC,WAAO,KAAK,OAAL,CAAa,KAAK,GAAL,CAAS;AAAA,aAAK,KAAK,GAAL,CAAS;AAAA,eAAK,CAAC,CAAD,EAAI,CAAJ,CAAL;AAAA,OAAT,CAAL;AAAA,KAAT,CAAb,CAAP;AACD,GAXY;;AAab,YAAU,kBAAS,MAAT,EAAiB;AACzB,QAAM,MAAM,CAAC,CAAD,EAAI,CAAJ,EAAO,CAAP,EAAU,CAAV,EAAa,GAAb,CAAiB,YAAM;AACjC,aAAO,KAAK,KAAL,CAAW,KAAK,MAAL,KAAgB,OAA3B,EAAoC,QAApC,CAA6C,EAA7C,EAAiD,SAAjD,CAA2D,CAA3D,CAAP;AACD,KAFW,EAET,IAFS,CAEJ,EAFI,CAAZ;;AAIA,WAAU,MAAV,SAAoB,GAApB;AACD,GAnBY;;AAqBb,iBAAe,uBAAS,WAAT,EAAsB,OAAtB,EAA+B;AAC5C,QAAM,UAAU,SAAS,aAAT,CAAuB,WAAvB,CAAhB;;AAEA,QAAI,OAAO,OAAP,KAAmB,WAAvB,EAAoC;AAClC,UAAI,QAAQ,KAAZ,EAAmB;AACjB,gBAAQ,SAAR,GAAoB,QAAQ,KAA5B;AACD;AACF;;AAED,WAAO,OAAP;AACD,GA/BY;;AAiCb,oBAAkB,0BAAS,WAAT,EAAsB,OAAtB,EAA+B;AAAA;;AAC/C,QAAM,eAAe,4BAArB;AACA,QAAM,UAAU,SAAS,eAAT,CAAyB,YAAzB,EAAuC,WAAvC,CAAhB;;AAEA,QAAI,OAAO,OAAP,KAAmB,WAAvB,EAAoC;AAClC,UAAI,QAAQ,KAAZ,EAAmB;AACjB,gBAAQ,KAAR,CAAc,KAAd,CAAoB,GAApB,EAAyB,OAAzB,CAAiC,gBAAQ;AACvC,gBAAK,QAAL,CAAc,OAAd,EAAuB,IAAvB;AACD,SAFD;AAGD;;AAED,UAAI,QAAQ,UAAZ,EAAwB;AACtB,eAAO,IAAP,CAAY,QAAQ,UAApB,EAAgC,OAAhC,CAAwC,aAAK;AAC3C,kBAAQ,YAAR,CAAqB,CAArB,EAAwB,QAAQ,UAAR,CAAmB,CAAnB,CAAxB;AACD,SAFD;AAGD;;AAED,UAAI,QAAQ,IAAZ,EAAkB;AAChB,gBAAQ,WAAR,GAAsB,QAAQ,IAAR,CAAa,QAAb,EAAtB;AACD;AACF;;AAED,WAAO,OAAP;AACD,GAxDY;;AA0Db,iBAAe,uBAAS,MAAT,EAAiB,EAAjB,EAAqB;AAClC,WAAO,YAAP,CAAoB,EAApB,EAAwB,IAAxB;AACD,GA5DY;;AA8Db,oBAAkB,0BAAS,EAAT,EAAa,SAAb,EAAwB,EAAxB,EAA4B;AAC5C,OAAG,gBAAH,CAAoB,SAApB,EAA+B,EAA/B,EAAmC,KAAnC;AACD,GAhEY;;AAkEb,eAAa,qBAAS,EAAT,EAAa,SAAb,EAAwB;AACnC,QAAI,GAAG,SAAH,IAAgB,GAAG,SAAH,CAAa,MAAjC,EAAyC;AACvC,SAAG,SAAH,CAAa,MAAb,CAAoB,SAApB;AACA;AACD;;AAED,QAAM,iBAAiB,OAAO,QAAQ,SAAR,GAAoB,KAA3B,EAAkC,GAAlC,CAAvB;;AAEA,QAAI,cAAc,UAAlB,EAA8B;AAC5B,SAAG,YAAH,CAAgB,OAAhB,EAAyB,GAAG,YAAH,CAAgB,OAAhB,EAAyB,OAAzB,CAAiC,cAAjC,EAAiD,EAAjD,CAAzB;AACD,KAFD,MAEO;AACL,SAAG,SAAH,GAAe,GAAG,YAAH,CAAgB,OAAhB,EAAyB,OAAzB,CAAiC,cAAjC,EAAiD,EAAjD,CAAf;AACD;AACF,GA/EY;;AAiFb,YAAU,kBAAS,EAAT,EAAa,SAAb,EAAwB;AAChC,QAAI,GAAG,SAAH,IAAgB,GAAG,SAAH,CAAa,GAAjC,EAAsC;AACpC,SAAG,SAAH,CAAa,GAAb,CAAiB,SAAjB;AACA;AACD;;AAED,QAAI,cAAc,UAAlB,EAA8B;AAC5B,SAAG,YAAH,CAAgB,OAAhB,EAAyB,GAAG,YAAH,CAAgB,OAAhB,IAA2B,GAA3B,GAAiC,SAA1D;AACD,KAFD,MAEO;AACL,SAAG,SAAH,GAAe,GAAG,YAAH,CAAgB,OAAhB,IAA2B,GAA3B,GAAiC,SAAhD;AACD;AACF,GA5FY;;AA8Fb,YAAU,kBAAS,EAAT,EAAa,SAAb,EAAwB;AAChC,QAAI,GAAG,SAAH,IAAgB,GAAG,SAAH,CAAa,QAAjC,EAA2C;AACzC,aAAO,GAAG,SAAH,CAAa,QAAb,CAAsB,SAAtB,CAAP;AACD;;AAED,QAAM,iBAAiB,OAAO,QAAQ,SAAR,GAAoB,KAA3B,EAAkC,GAAlC,CAAvB;;AAEA,QAAI,cAAc,UAAlB,EAA8B;AAC5B,aAAO,eAAe,IAAf,CAAoB,GAAG,YAAH,CAAgB,OAAhB,CAApB,CAAP;AACD,KAFD,MAEO;AACL,aAAO,eAAe,IAAf,CAAoB,GAAG,SAAvB,CAAP;AACD;AACF,GA1GY;;AA4Gb,eAAa,qBAAS,EAAT,EAAa,SAAb,EAAwB;AACnC,QAAI,GAAG,SAAH,IAAgB,GAAG,SAAH,CAAa,MAAjC,EAAyC;AACvC,SAAG,SAAH,CAAa,MAAb,CAAoB,SAApB;AACA;AACD;;AAED,QAAI,KAAK,QAAL,CAAc,EAAd,EAAkB,SAAlB,CAAJ,EAAkC;AAChC,WAAK,WAAL,CAAiB,EAAjB,EAAqB,SAArB;AACD,KAFD,MAEO;AACL,WAAK,QAAL,CAAc,EAAd,EAAkB,SAAlB;AACD;AACF,GAvHY;;AAyHb,UAAQ,gBAAS,GAAT,EAAc;AACpB,QAAI,SAAS,EAAb;AACA,QAAI,OAAJ,CAAY,cAAM;AAChB,UAAI,OAAO,OAAP,CAAe,EAAf,IAAqB,CAAzB,EAA4B;AAC1B,eAAO,IAAP,CAAY,EAAZ;AACD;AACF,KAJD;AAKA,WAAO,MAAP;AACD;AAjIY,C","file":"utils.js","sourcesContent":["export default {\n  flatten: function(ary) {\n    return ary.reduce((a, b) => a.concat(b));\n  },\n\n  flatMap: function(ary, lambda) {\n    return Array.prototype.concat.apply([], ary.map(lambda));\n  },\n\n  cartesianProduct: function(ary1, ary2) {\n    return this.flatten(ary1.map(x => ary2.map(y => [x, y])));\n  },\n\n  randomID: function(prefix) {\n    const str = [0, 1, 2, 3].map(() => {\n      return Math.floor(Math.random() * 0x10000).toString(16).substring(1);\n    }).join(\"\");\n\n    return `${prefix}-${str}`;\n  },\n\n  createElement: function(elementName, options) {\n    const element = document.createElement(elementName);\n\n    if (typeof options !== \"undefined\") {\n      if (options.class) {\n        element.className = options.class;\n      }\n    }\n\n    return element;\n  },\n\n  createSVGElement: function(elementName, options) {\n    const svgNamespace = \"http://www.w3.org/2000/svg\";\n    const element = document.createElementNS(svgNamespace, elementName);\n\n    if (typeof options !== \"undefined\") {\n      if (options.class) {\n        options.class.split(\" \").forEach(name => {\n          this.addClass(element, name);\n        });\n      }\n\n      if (options.attributes) {\n        Object.keys(options.attributes).forEach(k => {\n          element.setAttribute(k, options.attributes[k]);\n        });\n      }\n\n      if (options.text) {\n        element.textContent = options.text.toString();\n      }\n    }\n\n    return element;\n  },\n\n  appendElement: function(parent, el) {\n    parent.insertBefore(el, null);\n  },\n\n  addEventListener: function(el, eventName, fn) {\n    el.addEventListener(eventName, fn, false);\n  },\n\n  removeClass: function(el, className) {\n    if (el.classList && el.classList.remove) {\n      el.classList.remove(className);\n      return;\n    }\n\n    const classNameRegex = RegExp('\\\\b' + className + '\\\\b', \"g\");\n\n    if (el instanceof SVGElement) {\n      el.setAttribute(\"class\", el.getAttribute(\"class\").replace(classNameRegex, \"\"));\n    } else {\n      el.className = el.getAttribute(\"class\").replace(classNameRegex, \"\");\n    }\n  },\n\n  addClass: function(el, className) {\n    if (el.classList && el.classList.add) {\n      el.classList.add(className);\n      return;\n    }\n\n    if (el instanceof SVGElement) {\n      el.setAttribute(\"class\", el.getAttribute(\"class\") + \" \" + className);\n    } else {\n      el.className = el.getAttribute(\"class\") + \" \" + className;\n    }\n  },\n\n  hasClass: function(el, className) {\n    if (el.classList && el.classList.contains) {\n      return el.classList.contains(className);\n    }\n\n    const classNameRegex = RegExp('\\\\b' + className + '\\\\b', \"g\");\n\n    if (el instanceof SVGElement) {\n      return classNameRegex.test(el.getAttribute(\"class\"));\n    } else {\n      return classNameRegex.test(el.className);\n    }\n  },\n\n  toggleClass: function(el, className) {\n    if (el.classList && el.classList.toggle) {\n      el.classList.toggle(className);\n      return;\n    }\n\n    if (this.hasClass(el, className)) {\n      this.removeClass(el, className);\n    } else {\n      this.addClass(el, className);\n    }\n  },\n\n  unique: function(ary) {\n    let unique = [];\n    ary.forEach(el => {\n      if (unique.indexOf(el) < 0) {\n        unique.push(el);\n      }\n    });\n    return unique;\n  }\n};\n"]}